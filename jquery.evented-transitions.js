// Generated by CoffeeScript 1.7.1
(function() {
  (function($) {
    var changeClassTransitional, defaults;
    defaults = {
      notifyCount: 0
    };
    changeClassTransitional = function(el, cl, kind, options) {
      var count, dfd, duration, intervalId, settings;
      settings = $.extend({}, defaults, options);
      el[kind + "Class"](cl);
      duration = parseInt(1000 * parseFloat(el.css("transition-duration").slice(0, -1), 10), 10);
      dfd = $.Deferred();
      if (settings.notifyCount) {
        count = 0;
        intervalId = setInterval(function() {
          count += 1;
          return dfd.notifyWith(el, [count / settings.notifyCount]);
        }, duration / settings.notifyCount);
      }
      if (duration) {
        el.on("transitionend", function(event) {
          if (settings.notifyCount) {
            clearInterval(intervalId);
          }
          return dfd.resolveWith(el, [event]);
        });
      } else {
        dfd.resolveWith(el, [false]);
      }
      return dfd.promise();
    };
    return $.fn.extend({
      addClassTransitional: function(cl, options) {
        options || (options = {});
        return changeClassTransitional(this, cl, "add", options);
      },
      removeClassTransitional: function(cl, options) {
        options || (options = {});
        return changeClassTransitional(this, cl, "remove", options);
      },
      toggleClassTransitional: function(cl, options) {
        options || (options = {});
        return changeClassTransitional(this, cl, "toggle", options2);
      }
    });
  })(jQuery);

}).call(this);
